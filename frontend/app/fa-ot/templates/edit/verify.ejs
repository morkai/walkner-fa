<div class="fa-edit-stage" data-stage="verify">
  <%- helpers.props(details, [
    '!protocolNeeded',
    '!commissioningType',
    '!usageDestination',
    {id: '!protocolDate', visible: protocolNeeded},
    {id: 'protocolNo', visible: protocolNeeded, valueClassName: 'text-fixed'},
    'documentDate',
    {id: 'no', valueClassName: 'text-fixed'},
    'assetName',
    {id: 'lineSymbol', visible: usageDestination === 'factory', valueClassName: 'text-fixed'},
    {id: '!zplx', value: function(zplxs)
    {
      return '<ul>'
        + zplxs.map(function(zplx)
        {
          return '<li><span class="text-mono">ZPLX' + zplx.code + '</span>'
            + (zplx.value ? (' (' + zplx.value + ')') : '');
        }).join('')
        + '</ul>';
    }},
    {id: '!owner', visible: protocolNeeded},
    {id: '!committee', visible: protocolNeeded, value: function(users)
    {
      if (users.length === 0)
      {
        return '';
      }

      if (users.length === 1)
      {
        return users[0];
      }

      return '<ul>'
        + users.map(function(user) { return '<li>' + user; }).join('')
        + '</ul>';
    }},
    'supplier',
    'value',
    {id: 'costCenter', valueClassName: 'text-fixed'},
    'destination',
    {id: 'vendorNo', visible: usageDestination === 'external-supplier'},
    {id: 'vendorName', visible: usageDestination === 'external-supplier'},
    {id: '!protocolFile', visible: protocolNeeded, value: function(file)
    {
      return file
        ? ('<a href="' + url + '/attachments/protocol" target="_blank">' + _.escape(file.name) + '</a>')
        : t('FORM:edit:attachment:empty');
    }},
    {id: '!checklistFile', value: function(file)
    {
      return file
        ? ('<a href="' + url + '/attachments/checklist" target="_blank">' + _.escape(file.name) + '</a>')
        : t('FORM:edit:attachment:empty');
    }},
    {id: '!certificateFile', visible: usageDestination === 'external-supplier', value: function(file)
    {
      return file
        ? ('<a href="' + url + '/attachments/certificate" target="_blank">' + _.escape(file.name) + '</a>')
        : t('FORM:edit:attachment:empty');
    }},
    {id: '!nameplateFile', visible: usageDestination === 'external-supplier', value: function(file)
    {
      return file
        ? ('<a href="' + url + '/attachments/nameplate" target="_blank">' + _.escape(file.name) + '</a>')
        : t('FORM:edit:attachment:empty');
    }}
  ]) %>
  <div class="form-group fa-edit-short">
    <label for="<%- idPrefix %>-inventoryNo" class="control-label is-required"><%- t('PROPERTY:inventoryNo') %></label>
    <input id="<%- idPrefix %>-inventoryNo" name="inventoryNo" class="form-control" type="text" data-required>
  </div>
  <div class="form-group">
    <label for="<%- idPrefix %>-redemptionRate" class="control-label"><%- t('PROPERTY:redemptionRate') %></label>
    <div class="input-group">
      <input id="<%- idPrefix %>-redemptionRate" name="redemptionRate" class="form-control text-right" type="number" min="0" max="100" style="width: 114px">
      <div class="input-group-addon" style="width: 54px">%</div>
    </div>
  </div>
  <div class="form-group fa-edit-period" style="margin-top: -5px">
    <label for="<%- idPrefix %>-economicPeriodY" class="control-label"><%- t('PROPERTY:economicPeriod') %></label>
    <div class="input-group">
      <input id="<%- idPrefix %>-economicPeriodY" name="economicPeriodY" class="form-control text-right" type="number" min="0" max="99">
      <div class="input-group-addon"><%- t('fa-common', 'unit:year') %></div>
      <input id="<%- idPrefix %>-economicPeriodM" name="economicPeriodM" class="form-control text-right" type="number" min="0" max="12">
      <div class="input-group-addon"><%- t('fa-common', 'unit:month') %></div>
    </div>
  </div>
  <div class="form-group fa-edit-period">
    <label class="control-label"><%- t('PROPERTY:fiscalPeriod') %></label>
    <div class="input-group">
      <input id="<%- idPrefix %>-fiscalPeriodY" name="fiscalPeriodY" class="form-control text-right" type="text" readonly>
      <div class="input-group-addon"><%- t('fa-common', 'unit:year') %></div>
      <input id="<%- idPrefix %>-fiscalPeriodM" name="fiscalPeriodM" class="form-control text-right" type="text" readonly>
      <div class="input-group-addon"><%- t('fa-common', 'unit:month') %></div>
    </div>
  </div>
  <div class="form-group">
    <label for="<%- idPrefix %>-comment" class="control-label"><%- t('PROPERTY:comment') %></label>
    <textarea id="<%- idPrefix %>-comment" class="form-control" name="comment" rows="3"></textarea>
  </div>
</div>
